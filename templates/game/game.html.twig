{% extends 'base.html.twig' %}

{% block title %}{{game.name}}
{% endblock %}

{% block body %}
	<div class="body-content">

		<div class="background_top">
			{% if game.artworks is defined %}
				{% set artwork = game.artworks|first %}
				<img class="background_top-image" src="{{artwork.url}}" alt="artwork de {{game.name}}">
			{% endif %}
		</div>

		<div class="fil_ariane">
			<ul class="fil_ariane_list">
				<li class="fil_ariane_list-item">détails du jeu</li>
				<li class="fil_ariane_list-item">collections</li>
				<li class="fil_ariane_list-item">médias</li>
			</ul>
		</div>

		<div class="game-details">

			<div class="game_presentation container p-0">
				<div class="game_cover">
					<img class="game_cover-image" src="{{game.cover.url}}" alt="cover de {{game.name}}">
				</div>
				<div class="game_titles">
					<div class="title">
						<h1>{{game.name}}</h1>
					</div>
					<div class="released">
						<p>{{game.first_release_date|date("d/m/Y")}}</p>
					</div>
					<div class="developer">
						<p>Developpeur</p>
					</div>
				</div>
			</div>
			<div class="game_informations">
				<div class="container p-0 game_informations-content">
					<div class="game_rating">
						{% if game.rating is defined %}
							<p>{{game.rating}}</p>
						{% endif %}
					</div>
					<div class="informations">
						<div class="information_header">
							<nav class="information_nav">
								<button class="information_nav-link information_nav-link-active" data-target="infos">informations</button>
								<button class="information_nav-link" data-target="histoire">histoire</button>
								<button class="information_nav-link" data-target="teams">éditeur(s)/développeur(s)</button>
								<button class="information_nav-link" data-target="liens-externes">liens externes</button>
								<div class="information_nav-button">
									<button class="information_nav-link-previous">
										<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewbox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M328 112L184 256l144 144"/></svg>
									</button>
									<button class="information_nav-link-next">
										<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewbox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M184 112l144 144-144 144"/></svg>
									</button>
								</div>
							</nav>
						</div>
						<div class="information_body">
							<div id="infos" class="information_body-content information_body-content-active">
								<p>Information</p>
							</div>
							<div id="histoire" class="information_body-content">

								{% if game.summary is defined %}
									<div class="game_summary">
										<h3>Résumé :</h3>
										<p>{{game.summary}}</p>
									</div>
								{% endif %}
								{% if game.storyline is defined %}
									<div class="game_storyline">
										<h3>Histoire :</h3>
										<p>{{game.storyline}}</p>
									</div>
								{% endif %}

							</div>
							<div id="teams" class="information_body-content">
								<p>éditeur(s)/développeur(s)</p>
							</div>
							<div id="liens-externes" class="information_body-content">
								<p>liens externes</p>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="game_collection container">
				<div class="collection_header">
					<nav class="collection_nav">
						<button class="collection_nav-link collection_nav-link-active">collections</button>
						<button class="collection_nav-link">dlcs</button>
						<button class="collection_nav-link">extansions</button>
					</nav>
				</div>


				<div class="collection_body" id="franchises-data" data-franchises="{{ game.franchises|json_encode|e('html_attr') }}">
					{% for franchises in game.franchises %}
						<div class="collection_body-content">
							<div class="collection_body-collection">
								<div class="collection-infos">
									<div class="collection_games-cover">
										{% for game in franchises.games %}
											{% if loop.first %}
												<img class="cover_collection-active" src="{{game.cover.url}}" alt="cover de {{game.name}}">
											{% else %}
												<img class="cover_collection" src="{{game.cover.url}}" alt="cover de {{game.name}}">
											{% endif %}
										{% endfor %}
									</div>
									<div class="collection_images-cover-next"></div>
									<div class="collection-infos-content">
										<p class="collection_title">{{franchises.games[0].name}}</p>
									</div>
									<div class="collection-infos-platforms">
										<h3>Platformes Disponibles :</h3>
										<div class="collection_platforms">
											{% for platform in franchises.games[0].platforms %}
												<p>{{ platform.name }}</p>
											{% endfor %}
										</div>
									</div>
								</div>
								<div class="collection-images">
									<div class="collection_images-background">
										<img class="background_image" src="{{franchises.games[0].cover.url}}" alt="cover de {{franchises.games[0].name}}">
									</div>
								</div>
							</div>
						</div>
						<nav class="collection_buttons">
							<button id="previous-category">
								<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewbox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M328 112L184 256l144 144"/></svg>
							</button>
							<button id="next-category">
								<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewbox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M184 112l144 144-144 144"/></svg>
							</button>
						</nav>
					{% endfor %}
				</div>

			</div>


			{# <div class="containers">
																																																																																											
																																																																																											
																																																																																														<div class="game_title my-5">
																																																																																															{{game.name}}
																																																																																														</div>
																																																																																											
																																																																																											
																																																																																														<div class="game_artworks my-5">
																																																																																															{% if game.artworks is defined %}
																																																																																																{% for artwork in game.artworks %}
																																																																																																	<div class="game_artwork">
																																																																																																		<img src="{{artwork.url}}" alt="artwork de {{game.name}}" width="150px" height="auto">
																																																																																																	</div>
																																																																																																{% endfor %}
																																																																																															{% endif %}
																																																																																														</div>
																																																																																											
																																																																																											
																																																																																														<div class="game_bundles my-5">
																																																																																															{% if game.bundles is defined %}
																																																																																																{% for bundle in game.bundles %}
																																																																																																	{{bundle.name}}
																																																																																																{% endfor %}
																																																																																															{% endif %}
																																																																																														</div>
																																																																																											
																																																																																											
																																																																																														<div class="game_category my-5">
																																																																																															{% if game.category is defined %}
																																																																																																{{game.category}}
																																																																																															{% endif %}
																																																																																														</div>
																																																																																											
																																																																																											
																																																																																														<div class="game_cover my-5">
																																																																																															<img src="{{game.cover.url}}" alt="cover de {{game.name}}" width="150px" height="auto">
																																																																																														</div>
																																																																																											
																																																																																											
																																																																																														<div class="game_dlcs my-5">
																																																																																															{% if game.dlcs is defined %}
																																																																																																{% for dlc in game.dlcs %}
																																																																																																	{{dlc.name}}
																																																																																																{% endfor %}
																																																																																															{% endif %}
																																																																																														</div>
																																																																																											
																																																																																											
																																																																																														<div class="game_expansions my-5">
																																																																																															{% if game.expansions is defined %}
																																																																																																{% for expansion in game.expansions %}
																																																																																																	{{expansion.name}}
																																																																																																{% endfor %}
																																																																																															{% endif %}
																																																																																														</div>
																																																																																											
																																																																																											
																																																																																														<div class="game_relased my-5">
																																																																																															{{game.first_release_date|date("d/m/Y")}}
																																																																																														</div>
																																																																																											
																																																																																											
																																																																																														<div class="game_franchises my-5">
																																																																																															{% if game.franchises is defined %}
																																																																																																{% for franchise in game.franchises %}
																																																																																																	{{franchise.name}}
																																																																																																	<div class="franchise_game">
																																																																																																		{% if franchise.games is defined %}
																																																																																																			{% for franchiseGame in franchise.games %}
																																																																																																				{{franchiseGame.name}}
																																																																																																			{% endfor %}
																																																																																																		{% endif %}
																																																																																																	</div>
																																																																																																{% endfor %}
																																																																																															{% endif %}
																																																																																														</div>
																																																																																											
																																																																																											
																																																																																														<div class="game_engines my-5">
																																																																																															{% if game.game_engines is defined %}
																																																																																																{% for game_engine in game.game_engines %}
																																																																																																	<div class="game_engine">
																																																																																																		{{game_engine.name}}
																																																																																																	</div>
																																																																																																{% endfor %}
																																																																																															{% endif %}
																																																																																														</div>
																																																																																											
																																																																																											
																																																																																														<div class="game_modes my-5">
																																																																																															{% if game.game_modes is defined %}
																																																																																																{% for gameMode in game.game_modes %}
																																																																																																	{{gameMode.name}}
																																																																																																{% endfor %}
																																																																																															{% endif %}
																																																																																														</div>
																																																																																											
																																																																																											
																																																																																														<div class="game_genres my-5">
																																																																																															{% if game.genres is defined %}
																																																																																																{% for genre in game.genres %}
																																																																																																	{{genre.name}}
																																																																																																{% endfor %}
																																																																																															{% endif %}
																																																																																														</div>
																																																																																											
																																																																																											
																																																																																														<div class="game_companies my-5">
																																																																																															{% if game.involved_companies is defined %}
																																																																																																{% for company in game.involved_companies %}
																																																																																																	{{company.id}}
																																																																																																	{% if company.company is defined %}
																																																																																																		{{company.company.name}}
																																																																																																	{% endif %}
																																																																																																{% endfor %}
																																																																																															{% endif %}
																																																																																														</div>
																																																																																											
																																																																																											
																																																																																														<div class="game_platforms my-5">
																																																																																															{% if game.platforms is defined %}
																																																																																																{% for platform in game.platforms %}
																																																																																																	{{platform.name}}
																																																																																																	{% if platform.abbreviation is defined %}
																																																																																																		{{platform.abbreviation}}
																																																																																																	{% endif %}
																																																																																																{% endfor %}
																																																																																															{% endif %}
																																																																																														</div>
																																																																																											
																																																																																											
																																																																																														<div class="game_perspectives my-5">
																																																																																															{% if game.player_perspectives is defined %}
																																																																																																{% for perspective in game.player_perspectives %}
																																																																																																	{{perspective.name}}
																																																																																																{% endfor %}
																																																																																															{% endif %}
																																																																																														</div>
																																																																																											
																																																																																											
																																																																																														<div class="game_rating my-5">
																																																																																															{% if game.rating is defined %}
																																																																																																{{game.rating}}
																																																																																															{% endif %}
																																																																																														</div>
																																																																																											
																																																																																											
																																																																																														<div class="game_rating_count my-5">
																																																																																															{% if game.rating_count is defined %}
																																																																																																{{game.rating_count}}
																																																																																															{% endif %}
																																																																																														</div>
																																																																																											
																																																																																											
																																																																																														<div class="game_screenshots my-5">
																																																																																															{% if game.screenshots is defined %}
																																																																																																{% for screenshot in game.screenshots %}
																																																																																																	<div class="game_screenshot">
																																																																																																		<img src="{{screenshot.url}}" alt="screenshot de {{game.name}}" width="150px" height="auto">
																																																																																																	</div>
																																																																																																{% endfor %}
																																																																																															{% endif %}
																																																																																														</div>
																																																																																											
																																																																																											
																																																																																														<div class="game_similar_games my-5">
																																																																																															{% if game.similar_games %}
																																																																																																{% for similarGame in game.similar_games %}
																																																																																																	{{similarGame.name}}
																																																																																																{% endfor %}
																																																																																															{% endif %}
																																																																																														</div>
																																																																																											
																																																																																											
																																																																																														<div class="game_storyline my-5">
																																																																																															{% if game.storyline is defined %}
																																																																																																{{game.storyline}}
																																																																																															{% endif %}
																																																																																											
																																																																																											
																																																																																															<div class="game_summary my-5">
																																																																																																{% if game.summary is defined %}
																																																																																																	{{game.summary}}
																																																																																																{% endif %}
																																																																																															</div>
																																																																																											
																																																																																											
																																																																																															<div class="game_themes my-5">
																																																																																																{% if game.themes is defined %}
																																																																																																	{% for theme in game.themes %}
																																																																																																		{{theme.name}}
																																																																																																	{% endfor %}
																																																																																																{% endif %}
																																																																																															</div>
																																																																																											
																																																																																											
																																																																																															<div class="game_videos my-5">
																																																																																																{% if game.videos is defined %}
																																																																																																	{% for videos in game.videos %}
																																																																																																		{{videos.name}}
																																																																																																		{{videos.video_id}}
																																																																																																	{% endfor %}
																																																																																																{% endif %}
																																																																																															</div>
																																																																																											
																																																																																											
																																																																																															<div class="game_websites my-5">
																																																																																																{% if game.websites is defined %}
																																																																																																	{% for website in game.websites %}
																																																																																																		{{website.category}}
																																																																																																		{{website.url}}
																																																																																																	{% endfor %}
																																																																																																{% endif %}
																																																																																											
																																																																																															</div>
																																																																																											
																																																																																														</div>
																																																																																													</div> #}
		{% endblock %}
